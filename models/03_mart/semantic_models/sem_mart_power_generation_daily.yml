semantic_models:
- name: power_generation_daily
  description: Daily power generation metrics by unit with weather data
  model: ref('mart_power_generation_daily')
  defaults:
    agg_time_dimension: date
  entities:
  - name: power_generation_record
    type: primary
    expr: power_generation_unit_id || '_' || start_date
  - name: power_generation_unit
    type: foreign
    expr: power_generation_unit_id
  dimensions:
  - name: date
    description: Date of power generation
    expr: start_date
    type: time
    type_params:
      time_granularity: day
  - name: unit_name
    description: Name of the power generation unit
    type: categorical
  - name: unit_operator
    description: Operator of the unit
    type: categorical
  - name: unit_city
    description: City where the unit is located
    type: categorical
  - name: unit_state
    description: German state where the unit is located
    type: categorical
  - name: energy_source
    description: Type of energy source
    type: categorical
  - name: plant_status
    description: Operational status of the plant
    type: categorical
  - name: is_storage
    description: Boolean flag for storage facilities
    type: categorical
  - name: is_renewable
    description: Boolean flag indicating if energy source is renewable
    type: categorical
  measures:
  - name: net_electrical_capacity_mw
    description: Net electrical capacity in megawatts
    agg: max
    create_metric: true
  - name: max_temperature_2m_c
    description: Maximum temperature at 2m in Celsius
    agg: max
    create_metric: true
  - name: max_wind_speed_10m_mps
    description: Maximum wind speed at 10m in meters per second
    agg: max
    create_metric: true
  - name: count_records
    agg: count
    create_metric: true
    expr: power_generation_unit_id
  - name: count_units
    agg: count_distinct
    create_metric: true
    expr: power_generation_unit_id
