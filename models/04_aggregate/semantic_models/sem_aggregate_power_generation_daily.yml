semantic_models:
- name: aggregate_power_generation_daily
  description: Daily aggregated power generation metrics by unit with weather data
  model: ref('aggregate_power_generation_daily')
  defaults:
    agg_time_dimension: date
  entities:
  - name: generation
    type: primary
    expr: generation_date
  - name: power_generation_unit
    type: foreign
    expr: power_generation_unit_id
  dimensions:
  - name: date
    description: Date of power generation
    expr: generation_date
    type: time
    type_params:
      time_granularity: day
  - name: unit_name
    description: Name of the power generation unit
    type: categorical
  - name: unit_operator
    description: Operator of the unit
    type: categorical
  - name: unit_city
    description: City where the unit is located
    type: categorical
  - name: unit_state
    description: German state where the unit is located
    type: categorical
  - name: energy_source
    description: Type of energy source
    type: categorical
  - name: plant_status
    description: Operational status of the plant
    type: categorical
  - name: is_storage
    description: Boolean flag for storage facilities
    type: categorical
  measures:
  - name: net_electrical_capacity_mw
    description: Net electrical capacity in megawatts (maximum for the day)
    agg: max
    create_metric: true
  - name: number_of_readings
    description: Number of hourly power generation readings for the day
    agg: sum
    create_metric: true
  - name: total_duration_hours
    description: Total duration of power generation in hours
    agg: sum
    create_metric: true
  - name: total_energy_mwh
    description: Total energy generated in megawatt-hours
    agg: sum
    create_metric: true
  - name: avg_power_mw
    description: Average power output in megawatts
    agg: average
    create_metric: true
  - name: min_power_mw
    description: Minimum power output in megawatts
    agg: min
    create_metric: true
  - name: max_power_mw
    description: Maximum power output (peak) in megawatts
    agg: max
    create_metric: true
  - name: avg_capacity_utilization_percent
    description: Average capacity utilization as percentage
    agg: average
    create_metric: true
  - name: max_capacity_utilization_percent
    description: Peak capacity utilization as percentage
    agg: max
    create_metric: true
  - name: avg_temperature_2m_c
    description: Average temperature at 2m in Celsius
    agg: average
    create_metric: true
  - name: min_temperature_2m_c
    description: Minimum temperature at 2m in Celsius
    agg: min
    create_metric: true
  - name: max_temperature_2m_c
    description: Maximum temperature at 2m in Celsius
    agg: max
    create_metric: true
  - name: avg_wind_speed_10m_mps
    description: Average wind speed at 10m in meters per second
    agg: average
    create_metric: true
  - name: avg_wind_speed_80m_mps
    description: Average wind speed at 80m in meters per second
    agg: average
    create_metric: true
  - name: avg_shortwave_radiation_wpm2
    description: "Average shortwave radiation in W/m\xB2"
    agg: average
    create_metric: true
  - name: avg_direct_radiation_wpm2
    description: "Average direct solar radiation in W/m\xB2"
    agg: average
    create_metric: true
  - name: avg_diffuse_radiation_wpm2
    description: "Average diffuse solar radiation in W/m\xB2"
    agg: average
    create_metric: true
  - name: total_precipitation_mm
    description: Total precipitation in millimeters
    agg: sum
    create_metric: true
  - name: total_rain_mm
    description: Total rainfall in millimeters
    agg: sum
    create_metric: true
  - name: total_snowfall_cm
    description: Total snowfall in centimeters
    agg: sum
    create_metric: true
  - name: avg_cloud_cover_percent
    description: Average cloud cover percentage
    agg: average
    create_metric: true
  - name: avg_pressure_msl_hpa
    description: Average atmospheric pressure in hectopascals
    agg: average
    create_metric: true
  - name: count_generation
    agg: count
    create_metric: true
    expr: generation_date
  - name: count_power_generation_unit
    agg: count_distinct
    create_metric: true
    expr: power_generation_unit_id
